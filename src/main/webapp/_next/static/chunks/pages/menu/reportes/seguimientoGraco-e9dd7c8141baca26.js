(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[368],{9972:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var o=r(n(4938)),i=n(5893),a=(0,o.default)((0,i.jsx)("path",{d:"M7.5 11C9.43 11 11 9.43 11 7.5S9.43 4 7.5 4 4 5.57 4 7.5 5.57 11 7.5 11zm0-5C8.33 6 9 6.67 9 7.5S8.33 9 7.5 9 6 8.33 6 7.5 6.67 6 7.5 6zM4.0025 18.5832 18.59 3.9955l1.4142 1.4143L5.4167 19.9974zM16.5 13c-1.93 0-3.5 1.57-3.5 3.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5zm0 5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Percent");t.Z=a},2023:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(3366),o=n(7462),i=n(7294),a=n(6010),s=n(4780),c=n(948),l=n(1657),d=n(1588),u=n(4867);function p(e){return(0,u.Z)("MuiCardActions",e)}(0,d.Z)("MuiCardActions",["root","spacing"]);var g=n(5893);let m=["disableSpacing","className"],x=e=>{let{classes:t,disableSpacing:n}=e;return(0,s.Z)({root:["root",!n&&"spacing"]},p,t)},f=(0,c.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>(0,o.Z)({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),h=i.forwardRef(function(e,t){let n=(0,l.Z)({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:s}=n,c=(0,r.Z)(n,m),d=(0,o.Z)({},n,{disableSpacing:i}),u=x(d);return(0,g.jsx)(f,(0,o.Z)({className:(0,a.Z)(u.root,s),ownerState:d,ref:t},c))});var j=h},3965:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(3366),o=n(7462),i=n(7294),a=n(6010),s=n(4780),c=n(1657),l=n(948),d=n(1588),u=n(4867);function p(e){return(0,u.Z)("MuiCardMedia",e)}(0,d.Z)("MuiCardMedia",["root","media","img"]);var g=n(5893);let m=["children","className","component","image","src","style"],x=e=>{let{classes:t,isMediaComponent:n,isImageComponent:r}=e;return(0,s.Z)({root:["root",n&&"media",r&&"img"]},p,t)},f=(0,l.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e,{isMediaComponent:r,isImageComponent:o}=n;return[t.root,r&&t.media,o&&t.img]}})(({ownerState:e})=>(0,o.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),h=["video","audio","picture","iframe","img"],j=["picture","img"],Z=i.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:l="div",image:d,src:u,style:p}=n,Z=(0,r.Z)(n,m),v=-1!==h.indexOf(l),w=!v&&d?(0,o.Z)({backgroundImage:`url("${d}")`},p):p,C=(0,o.Z)({},n,{component:l,isMediaComponent:v,isImageComponent:-1!==j.indexOf(l)}),S=x(C);return(0,g.jsx)(f,(0,o.Z)({className:(0,a.Z)(S.root,s),as:l,role:!v&&d?"img":void 0,ref:t,style:w,ownerState:C,src:v?d||u:void 0},Z,{children:i}))});var v=Z},3316:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/menu/reportes/seguimientoGraco",function(){return n(6735)}])},6735:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var r=n(5893),o=n(7294),i=n(6621),a=n(9226),s=n(6886),c=n(5861),l=n(8456),d=n(6242),u=n(2023),p=n(4267),g=n(3965),m=n(629),x=n(9972),f=n(1876);function h(e){let{urlImage:t,name:n,data:o}=e;return(0,r.jsxs)(d.Z,{raised:!0,sx:{backgroundColor:"transparent"},children:[t&&(0,r.jsx)(g.Z,{component:"img",height:100,image:t,alt:n,title:n,sx:{objectFit:"contain",padding:"1em 1em 0 1em"}}),"PORCENTAJE FINAL"===n&&(0,r.jsx)(p.Z,{children:(0,r.jsx)(c.Z,{textAlign:"center",variant:"body1",component:"div",children:n})}),!t&&(0,r.jsx)(a.Z,{textAlign:"center",children:(0,r.jsx)(x.Z,{sx:{fontSize:"80px",borderRadius:"50%",color:f.ex}})}),(0,r.jsxs)(u.Z,{sx:{justifyContent:"center"},children:[(0,r.jsxs)(m.Z,{sx:{backgroundColor:"transparent",textAlign:"center",p:.5,width:"100%"},children:[(0,r.jsx)(c.Z,{variant:"caption",color:"white",children:"Capacidad"}),(0,r.jsx)(c.Z,{sx:{fontSize:12},children:o.total})]}),(0,r.jsxs)(m.Z,{sx:{backgroundColor:"transparent",textAlign:"center",p:.5,width:"100%"},children:[(0,r.jsx)(c.Z,{variant:"caption",color:"white",children:"Ocupado"}),(0,r.jsx)(c.Z,{sx:{fontSize:12},children:o.ocupado})]}),(0,r.jsxs)(m.Z,{sx:{backgroundColor:"transparent",textAlign:"center",p:.5,width:"100%"},children:[(0,r.jsx)(c.Z,{variant:"caption",color:"white",children:"Porcentaje"}),(0,r.jsx)(c.Z,{sx:{fontSize:12},children:o.porcentaje})]})]})]})}var j=n(6450),Z=n(1649),v=n(5579),w=n(7536),C=n(6310),S=n(7533),b=n(4069),O=n(1820),P=n(1207),I=e=>{let{name:t,required:n,label:i,url:a,urlValidate:s,validate:{errors:c,control:d}}=e,[u,p]=(0,o.useState)(!1),[g,m]=(0,o.useState)([]),x=u&&0===g.length;return(0,o.useEffect)(()=>{let e=!0;if(x)return(async()=>{if(await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(t=>{setTimeout(t,e)})}(1e3),a&&!s.includes(void 0))try{let{data:{code:t,msg:n}}=await j.Z.get("/v1/api/".concat(a));0===t&&e&&m(n.map(e=>({id:e.codigo,description:e.descripcionDependencia})))}catch(e){p(!1)}})(),()=>{e=!1}},[x]),(0,o.useEffect)(()=>{u||m([])},[u]),(0,r.jsx)(w.Qr,{control:d,name:t,render:e=>{let{field:{ref:a,onChange:s,value:d}}=e;return(0,r.jsx)(b.Z,{fullWidth:!0,options:g,loading:x,loadingText:"Cargando...",value:d,isOptionEqualToValue:(e,t)=>e.id===t.id,getOptionLabel:e=>e.description&&e.description,onChange:(e,t)=>{s(t)},open:u,openText:"Abrir",closeText:"Cerrar",onOpen:()=>{p(!0)},onClose:()=>{p(!1)},renderInput:e=>{var s;return(0,r.jsx)(O.Z,{...e,inputRef:a,required:n,label:i,variant:"standard",error:!!c[t],helperText:null==c?void 0:null===(s=c[t])||void 0===s?void 0:s.message,FormHelperTextProps:{component:P.Z},InputLabelProps:{shrink:!0},inputProps:{...e.inputProps,readOnly:!0},InputProps:{...e.InputProps,endAdornment:(0,r.jsxs)(o.Fragment,{children:[x?(0,r.jsx)(l.Z,{color:"primary",size:20}):null,e.InputProps.endAdornment]})}})},noOptionsText:"Informaci\xf3n no encontrada"})}})},y=n(3310),R=()=>{let{user:{undeCodigoSipac:e}}=(0,Z.v9)(e=>e.auth),t=C.Ry().shape({salaId:C.Ry().nullable().required("Seleccione Sala")}),{handleSubmit:n,watch:d,setValue:u,control:p,formState:{errors:g}}=(0,w.cI)({defaultValues:{salaId:null},mode:"onBlur",resolver:(0,S.X)(t)}),m=d("salaId"),[x,b]=(0,o.useState)([]),[O,P]=(0,o.useState)(!1),R=async()=>{P(!0);try{let{data:{code:e,msg:t}}=await j.Z.get("/v1/api/reportesseguimientograco/datosRepSeguimientoGraco?undeCodigoSipac=".concat(m.id));0===e?(await (0,v.V)(1e3),b(t[0])):(await (0,v.V)(1e3),b([]))}catch(e){await (0,v.V)(1e3),b([])}P(!1)},M=()=>{R()};return(0,o.useEffect)(()=>{m&&n(M)()},[m]),(0,r.jsx)(i.Z,{children:(0,r.jsx)(a.Z,{sx:{paddingTop:5,paddingBottom:10,paddingRight:1,paddingLeft:1,flex:"1"},children:(0,r.jsx)("form",{onSubmit:n(M),noValidate:!0,children:(0,r.jsxs)(s.ZP,{container:!0,justifyContent:"center",spacing:5,children:[(0,r.jsx)(s.ZP,{container:!0,item:!0,xs:12,lg:3,children:(0,r.jsxs)(a.Z,{display:"flex",gap:1,children:[(0,r.jsx)(y.Z,{}),(0,r.jsx)(c.Z,{align:"left",component:"h6",variant:"subtitle1",color:f.ex,children:"Reporte Seguimiento GRACO"})]})}),(0,r.jsx)(s.ZP,{item:!0,container:!0,justifyContent:"center",children:(0,r.jsx)(s.ZP,{item:!0,xs:12,sm:8,md:6,lg:3,children:(0,r.jsx)(I,{required:!0,name:"salaId",label:"Salas",url:"reportesseguimientograco/salasReporteSeguimientoGraco?undeCodigoSipac=".concat(e),urlValidate:[e],validate:{errors:g,control:p,setValue:u}})})}),O&&(0,r.jsx)(s.ZP,{item:!0,children:(0,r.jsx)(a.Z,{height:300,display:"flex",alignItems:"center",children:(0,r.jsxs)(s.ZP,{container:!0,alignItems:"center",flexDirection:"column",gap:2,children:[(0,r.jsx)(c.Z,{color:"white",children:"Cargando..."}),(0,r.jsx)(l.Z,{color:"inherit",size:40})]})})}),0!==x.length&&!O&&(0,r.jsx)(s.ZP,{item:!0,xs:12,sm:8,md:6,lg:3,children:(0,r.jsxs)(s.ZP,{container:!0,justifyContent:"center",spacing:2,children:[(0,r.jsx)(s.ZP,{item:!0,xs:12,lg:6,children:(0,r.jsx)(h,{name:"TIGO",urlImage:"/sigicmovil/logos/logo_tigo.png",data:{total:x.totalTigo,ocupado:x.ocupadoTigo,porcentaje:x.porcentajeRestanteTigo}})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,lg:6,children:(0,r.jsx)(h,{name:"CLARO",urlImage:"/sigicmovil/logos/logo_claro.png",data:{total:x.totalClaro,ocupado:x.ocupadoClaro,porcentaje:x.porcentajeRestanteClaro}})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,lg:6,children:(0,r.jsx)(h,{name:"MOVISTAR",urlImage:"/sigicmovil/logos/logo_movistar.png",data:{total:x.totalMovistar,ocupado:x.ocupadoMovistar,porcentaje:x.porcentajeRestanteMovistar}})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,lg:6,children:(0,r.jsx)(h,{name:"WOM",urlImage:"/sigicmovil/logos/logo_wom.png",data:{total:x.totalWom,ocupado:x.ocupadoWom,porcentaje:x.porcentajeRestanteWom}})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,lg:12,children:(0,r.jsx)(h,{name:"PORCENTAJE FINAL",urlImage:"",data:{total:x.totalCapacidad,ocupado:x.totalOcupado,porcentaje:x.porcentajeRestanteTotales}})})]})})]})})})})}},1207:function(e,t,n){"use strict";var r=n(5893),o=n(5861);t.Z=e=>{let{children:t}=e;return(0,r.jsx)(o.Z,{variant:"caption",color:"red",children:t})}},3310:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r,o=n(5893),i=n(7294),a=n(3219);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e){return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r||(r=i.createElement("circle",{cx:12,cy:12,r:12,fill:"#CDFF00"})))},l=e=>(0,o.jsx)(a.Z,{...e,component:c,inheritViewBox:!0})},6450:function(e,t,n){"use strict";var r=n(6154);let o=r.Z.create({baseURL:"http://192.168.1.12:7001/sigicmovil_back"});o.interceptors.request.use(async e=>{try{let{jwt:t}=await JSON.parse(sessionStorage.getItem("user")),{usuarioSipac:n}=await JSON.parse(sessionStorage.getItem("user")),{undeCodigoSipac:r,roles:o}=await JSON.parse(sessionStorage.getItem("user"));t&&(e.headers.Authorization="Bearer ".concat(t),e.headers.usuarioSipac="".concat(n),e.headers.undeCodigoSipac="".concat(r),e.headers.rol="".concat(Object.keys(o)))}catch(e){}return e},e=>Promise.reject(e)),t.Z=o},5579:function(e,t,n){"use strict";n.d(t,{V:function(){return r},g:function(){return o}});let r=e=>new Promise(t=>setTimeout(t,e));function o(){return(function(e){switch(!0){case e.indexOf("edg/")>-1:return"Microsoft Edge";case e.indexOf("opr")>-1&&!!window.opr:return"Opera";case e.indexOf("chrome")>-1&&!!window.chrome:return"Chrome";case e.indexOf("firefox")>-1:return"Mozilla Firefox";case e.indexOf("safari")>-1:return"Safari";default:return"Otro"}})(window.navigator.userAgent.toLowerCase()).toUpperCase()}}},function(e){e.O(0,[536,623,918,154,69,63,774,888,179],function(){return e(e.s=3316)}),_N_E=e.O()}]);